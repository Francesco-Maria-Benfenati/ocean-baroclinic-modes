# Project Structure
The project is divided into blocks, each one with a different function:

- A [JSON configuration file](https://github.com/Francesco-Maria-Benfenati/ocean-baroclinic-modes-1.0/blob/main/config.json) is provided to the user in order to set values and parameters for carrying out the computation.
- In file [read_input.py](https://github.com/Francesco-Maria-Benfenati/ocean-baroclinic-modes-1.0/blob/main/OBM/read_input.py), few functions are embedded, for reading the configuration file and the input dataset. In fact, the user is aked to supply the Salinity and Potential Temperature vertical profiles for a region (or a point), and a period (or a time instant). Through one of these functions, the input variables are extracted from the dataset and averaged (if necessary) in time, latitude and longitude. 
- In file [eos.py](https://github.com/Francesco-Maria-Benfenati/ocean-baroclinic-modes-1.0/blob/main/OBM/eos.py), the Eq. Of Seawater (EOS) is implemented as in [NEMO](https://www.nemo-ocean.eu/), for computing Potential Density from Salinity and Potential Temperature. Furthermore, a function is implemented here for computing the mean Brunt-Vaisala frequency vertical profile following eq. [(3)](https://latex.codecogs.com/gif.image?\dpi{100}N&space;=&space;\Big\[-\frac{g}{\rho_s}\frac{\partial&space;\rho_s}{\partial&space;z}\Big]^\frac{1}{2}\quad(\rho_s\text{basic&space;mean&space;stratification)), after averaging Pot. Density in latitude and longitude.
- File [baroclinic_modes.py](https://github.com/Francesco-Maria-Benfenati/ocean-baroclinic-modes-1.0/blob/main/OBM/baroclinic_modes.py) contains the function which implements the numerical method described in the [previous section](#numerical-method-implemented), returning the *Rossby radius* and the *vertical structure function* for a number of modes of motion set by the user (including the barotropic one).
- The directory [testings](https://github.com/Francesco-Maria-Benfenati/ocean-baroclinic-modes-1.0/tree/main/testings) contains the testing files, one for each functions block described above, and a fake configuration file only for testing purpose.
- The main file [main.py](https://github.com/Francesco-Maria-Benfenati/ocean-baroclinic-modes-1.0/blob/main/main.py) recalls the so far mentioned functions, in order to compute the $R_n$ and $\Phi_n$ profiles. Furthermore, the output data are written to a NetCDF file. 
- File [run_plots.py](https://github.com/Francesco-Maria-Benfenati/ocean-baroclinic-modes-1.0/blob/main/run_plots.py) is for plotting output results in NetCDF output file. Output products are saved in a directiory within the same one as the input dataset.
- The [requirements](https://github.com/Francesco-Maria-Benfenati/ocean-baroclinic-modes-1.0/blob/main/pkgs_required.txt) file contains libraries and packages to be installed for running the main file. See the ["Get Started"](#get-started) section for how to install them.
- In folder ["test_case"](https://github.com/Francesco-Maria-Benfenati/ocean-baroclinic-modes-1.0/tree/main/test_case) a test case is provided to the user as a Get Started! material (see below [section](#get-started)).
- Lastly, a brief [PDF presentation](https://github.com/Francesco-Maria-Benfenati/ocean-baroclinic-modes-1.0/blob/main/introducing_OBM-1.0.pdf) is provided, recapping part of the contents in the above sections. Moreover, numerical results are shown in comparison to the analytical ones obtained by LaCasce (2012) [^2] in case of constant or exponential Brunt-Vaisala frequency profiles.
